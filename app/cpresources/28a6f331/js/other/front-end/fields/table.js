"use strict";!function(){var e="{formAnchor}",t=document.querySelector('form[data-id="'.concat(e,'"]'));if(!t)return void console.error('Table could not find form by ID "'.concat(e,'"'));if(!t.freeform)return void console.error("Form is not a freeform form");for(var r=/([^\[]+)\[(\d+)\](\[\d+\])$/g,o=document.querySelectorAll("[data-freeform-table]"),a=function(e){1!==e.target.closest("tbody").querySelectorAll("tr").length&&e.target.closest("tr").remove()},l=function(e){for(var t=o[e],l=t.parentNode.querySelector("[data-freeform-table-add-row]"),n=t.querySelectorAll("[data-freeform-table-remove-row]"),c=0;c<n.length;c++){var d=n[c];d.addEventListener("click",a)}if(l){var f=function(){for(var e=t.querySelectorAll("textarea, input, select"),o=0,a=0;a<e.length;a++){var l=e[a],n=r.exec(l.name);if(r.lastIndex=0,n){var c=parseInt(n[2]);o=Math.max(o,c)}}return++o};l.addEventListener("click",function(){var e=t.querySelector("tbody > tr:first-child");if(e){for(var o=e.cloneNode(!0),l=o.querySelectorAll("textarea, input, select"),n=f(),c=0;c<l.length;c++){var d=l[c],i=d.dataset.defaultValue||"";if(d.name=d.name.replace(r,"$1[".concat(n,"]$3")),"SELECT"===d.tagName){var u=d.querySelector("option:first-child");u&&(i=u.value)}else d.checked=!1;d.value=i}var m=o.querySelector("[data-freeform-table-remove-row]");m&&m.addEventListener("click",a),t.querySelector("tbody").appendChild(o)}})}},n=0;n<o.length;n++)l(n);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})}();