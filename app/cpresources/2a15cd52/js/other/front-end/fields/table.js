"use strict";!function(){var e="{formAnchor}",r=document.querySelector('form[data-id="'.concat(e,'"]'));if(!r)return void console.error('Table could not find form by ID "'.concat(e,'"'));if(!r.freeform)return void console.error("Form is not a freeform form");for(var t=/([^\[]+)\[(\d+)\](\[\d+\])$/g,o=document.querySelectorAll("[data-freeform-table]"),a=function(e){1!==e.target.closest("tbody").querySelectorAll("tr").length&&e.target.closest("tr").remove()},l=function(e){var r=o[e],l=r.parentNode.querySelector("[data-freeform-table-add-row]"),c=r.querySelectorAll("[data-freeform-table-remove-row]");if(c.forEach(function(e){e.addEventListener("click",a)}),l){var n=function(){for(var e=r.querySelectorAll("textarea, input, select"),o=0,a=0;a<e.length;a++){var l=e[a],c=t.exec(l.name);if(t.lastIndex=0,c){var n=parseInt(c[2]);o=Math.max(o,n)}}return++o};l.addEventListener("click",function(){var e=r.querySelector("tbody > tr:first-child");if(e){for(var o=e.cloneNode(!0),l=o.querySelectorAll("textarea, input, select"),c=n(),f=0;f<l.length;f++){var d=l[f],i=d.dataset.defaultValue||"";if(d.name=d.name.replace(t,"$1[".concat(c,"]$3")),"SELECT"===d.tagName){var u=d.querySelector("option:first-child");u&&(i=u.value)}else d.checked=!1;d.value=i}var v=o.querySelector("[data-freeform-table-remove-row]");v&&v.addEventListener("click",a),r.querySelector("tbody").appendChild(o)}})}},c=0;c<o.length;c++)l(c)}();