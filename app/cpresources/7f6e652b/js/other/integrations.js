"use strict";function generateHandle(e){var t=e.replace("/<(.*?)>/g","");t=t.replace(/['"‘’“”\[\]\(\)\{\}:]/g,""),t=t.toLowerCase(),t=Craft.asciiString(t),t=t.replace(/^[^a-z]+/,"");var r=Craft.filterArray(t.split(/[^a-z0-9]+/));t="";for(var a=0;a<r.length;a++)t+=0===a?r[a]:r[a].charAt(0).toUpperCase()+r[a].substr(1);return t}$(function(){var e=$("select#class");e.on({change:function(){var e=$(this).val().split("\\").join("");$("div#settings-"+e).show().siblings().hide()}}),e.trigger("change");var t=$("#name");t.val().length||t.on({keyup:function(){$("#handle").val(generateHandle($(this).val())).trigger("change")}});var r=$("input.setting-return_uri"),a=$("#integration-type").data("type");$("#handle").on({change:function(){var e=$(this).val(),t=Craft.getCpUrl("freeform/settings/"+a+"/"+e);r.val(t)},keyup:function(){$(this).trigger("change")}});var n=$("#auth-checker"),i=$(".pending-status-check",n),s=i.data("id"),o=i.data("type");if(s){var c={id:s};c[Craft.csrfTokenName]=Craft.csrfTokenValue,$.ajax({url:Craft.getCpUrl("freeform/"+o+"/check"),data:c,type:"post",dataType:"json",success:function(e){if(i.hide(),e.success)$(".authorized",n).show();else if($(".not-authorized",n).show(),e.errors){var t=e.errors;"string"!=typeof t&&(t=t.join(". ")),$(".not-authorized .errors",n).empty().text(t)}}})}});